<!DOCTYPE html>
<!--
 This page is shown when the extension button is clicked, because the
 "browser_action" field in manifest.json contains the "default_popup" key with
 value "popup.html".
 -->
<html>

<head>
	<title>SNOW Screenshot</title>
	<link rel="stylesheet" href="popup.css" />
	<script src="./js/jquery.min.js"></script>
	<script type="module" src="./js/api.js"></script>
	<script type="module" src="./js/popup.js"></script>
</head>

<body>
	<h3>Snow screenshot extension</h3>
	<div id="ajax-spinner">
		<svg class="spinner" viewBox="0 0 50 50">
			<circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
		</svg>
	</div>
	<div id="options_error" class="error hidden">Configure setting before use <a id="options_url" href="#">options</a></div>
	<div>
		<!--Add buttons to initiate auth sequence and sign out-->
		<button id="authorize_button" class="btn hidden">Authorize</button>
		<button id="get_subfolders_button" class="btn get_folders">Specify folder</button>
		<button id="take-screenshot-button" class="btn screenshot">Capture</button>
	</div>
	<div>Folder to upload:</div>
	<div id="currentFolder">
		<strong>Root</strong>
	</div>
	<ul id="folders_list"></ul>
	<div>
		
	</div>
	<div id="screenshot" class="hidden">
		<img id="screenshot-preview" src="" class="screenshot-preview" />
		<div>
			<button id="upload_screenshot_button" class="btn upload">Upload</button>
		</div>
	</div>
	<div id="msg-success" class="hidden">
		<p class="success">Successfully uploaded</p>
		<a id='view_link' href="#" class="view-link"></a>
	</div>
	<div id="msg-error" class="hidden">
		<p class="error">Something went wrong. Try again later.</p>
	</div>
</body>
</html>
